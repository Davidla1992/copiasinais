<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login - Gibiteka Max Zendron</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />
  <style>
    /* mesmo CSS da index */
    body {margin:0;font-family:'Poppins',sans-serif;background:linear-gradient(135deg,#0A1F44,#2B3A67);color:#fff;}
    header{background:#2B3A67;padding:1rem 0;box-shadow:0 2px 10px rgba(0,191,255,0.2);}
    .site-title{font-size:1.5rem;font-weight:700;color:#00BFFF;text-align:center;}
    .nav-menu{list-style:none;display:flex;gap:1rem;justify-content:center;padding:0;}
    .nav-menu li a{color:#1E90FF;text-decoration:none;font-weight:600;}
    .nav-menu li a:hover{color:#00BFFF;}
    .card{max-width:420px;margin:2rem auto;background:rgba(12,26,56,0.92);border-radius:12px;padding:1.5rem;box-shadow:0 8px 20px rgba(0,191,255,0.22);}
    input{width:100%;height:48px;margin-bottom:1rem;border-radius:8px;border:1px solid #A8C4E8;background:rgba(255,255,255,0.08);color:#E6F2FF;padding:0 1rem;}
    .button{width:100%;height:48px;border:none;border-radius:8px;background:linear-gradient(135deg,#1E90FF,#00BFFF);color:#fff;font-weight:bold;cursor:pointer;}
    .button:hover{transform:scale(1.05);}
    footer{background:#2B3A67;color:#00BFFF;text-align:center;padding:1rem;margin-top:2rem;}
  </style>
</head>
<body>
  <header>
    <h1 class="site-title">Gibiteka Max Zendron</h1>
    <nav><ul class="nav-menu">
      <li><a href="index.html">Início</a></li>
      <li><a href="acervo.html">Acervo</a></li>
      <li><a href="servicos.html">Serviços</a></li>
      <li><a href="pesquisa.html">Pesquisa</a></li>
      <li><a href="perfil.html">Perfil</a></li>
      <li><a href="dashboard.html">Dashboard</a></li>
    </ul></nav>
  </header>

  <main>
    <h2 style="text-align:center;color:#00BFFF;">Entrar ou Cadastrar</h2>
    <div class="card">
      <input id="email" type="email" placeholder="Email">
      <input id="password" type="password" placeholder="Senha">
      <div id="nameField" style="display:none;">
        <input id="name" type="text" placeholder="Nome (para cadastro)">
      </div>
      <button class="button" onclick="handleAuth()">Entrar</button>
      <div class="toggle" onclick="toggleMode()" style="margin-top:1rem;cursor:pointer;color:#1E90FF;">Quero me cadastrar</div>
    </div>
  </main>

  <footer>&copy; 2025 Gibiteka Max Zendron — Todos os direitos reservados</footer>

  <script>
    let isSignup = false;
    function toggleMode() {
      isSignup = !isSignup;
      document.getElementById('nameField').style.display = isSignup ? 'block' : 'none';
      document.querySelector('.button').textContent = isSignup ? 'Cadastrar' : 'Entrar';
      document.querySelector('.toggle').textContent = isSignup ? 'Já tenho conta' : 'Quero me cadastrar';
    }
    function handleAuth() {
      const email = document.getElementById('email').value.trim().toLowerCase();
      const password = document.getElementById('password').value.trim();
      const name = document.getElementById('name').value.trim();
      const users = JSON.parse(localStorage.getItem('users') || '[]');
      if (isSignup) {
        if (users.find(u => u.email === email)) return alert('Email já cadastrado.');
        users.push({ email, name: name || 'Usuário', password });
        localStorage.setItem('users', JSON.stringify(users));
        localStorage.setItem('loggedUser', email);
        window.location.href = 'dashboard.html';
      } else {
        const user = users.find(u => u.email === email && u.password === password);
        if (!user) return alert('Email ou senha inválidos.');
        localStorage.setItem('loggedUser', email);
        window.location.href = 'dashboard.html';
      }
    }
  </script>
</body>
</html>
